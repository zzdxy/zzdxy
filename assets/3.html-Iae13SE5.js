import{_ as t}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as d,o as c,c as o,a as e,b as i,d as n,e as r}from"./app-X8k1FHBG.js";const l={},s=e("h1",{id:"_3分钟-给女朋友做个云笔记",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_3分钟-给女朋友做个云笔记","aria-hidden":"true"},"#"),i(" 3分钟，给女朋友做个云笔记！")],-1),p={href:"https://yuyuanweb.feishu.cn/wiki/Abldw5WkjidySxkKxU2cQdAtnah",target:"_blank",rel:"noopener noreferrer"},u={href:"https://codefather.cn",target:"_blank",rel:"noopener noreferrer"},g={href:"http://mp.weixin.qq.com/s?__biz=MzI1NDczNTAwMA==&mid=2247503596&idx=2&sn=1c2f4d1b16631e9a5036e7b7774cfa59&chksm=e9c2291bdeb5a00d680292395cd4e6d1c91ad30d2ae55f7295a77b5cd1ac38e9b6debf905fa6&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"},h=r(`<p>结果得分最高的是 Leanote 云笔记，该项目在 GitHub 有上万个 star，先看一下效果：</p><figure><img src="https://pic.yupi.icu/5563/202311090919781.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>有了这个私有云笔记，你可以随时随地记录和分享内容，非常方便。</p><p>所以今天就手把手带大家搭建一下，整个过程非常简单，快的话 3 分钟就能完成，不需要什么专业知识，感兴趣的朋友可以跟着实践。</p><blockquote><p>视频教程：https://www.bilibili.com/video/BV1134y1R72i/</p></blockquote><h2 id="搭建云笔记" tabindex="-1"><a class="header-anchor" href="#搭建云笔记" aria-hidden="true">#</a> 搭建云笔记</h2><h3 id="_0-准备工作" tabindex="-1"><a class="header-anchor" href="#_0-准备工作" aria-hidden="true">#</a> 0. 准备工作</h3><p>首先打开 Leanote 项目（https://github.com/leanote/leanote），从项目介绍文件中找到安装文档。</p><p>支持多种操作系统，有 Linux 服务器的同学可以直接装到服务器上，可以保证项目的 24 小时持续运行；没有的同学也可以直接在自己的电脑上安装。</p><p>支持安装包和源码安装两种方式，建议大家选择前者：</p><figure><img src="https://pic.yupi.icu/5563/202311090919750.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>安装文档</p></blockquote><p>下面我主要演示在 Linux 服务器上的安装方式。</p><h3 id="_1-下载项目" tabindex="-1"><a class="header-anchor" href="#_1-下载项目" aria-hidden="true">#</a> 1. 下载项目</h3><p>可以自行在安装文档中找到不同版本安装包的下载地址，然后手动下载到自己的电脑上，再传到服务器上。</p><p>当然，更简单的方式是，直接在服务器上使用 <code>wget</code> 命令下载安装包：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>wget https://udomain.dl.sourceforge.net/project/leanote-bin/2.6.1/leanote-linux-amd64-v2.6.1.bin.tar.gz \\
--no-check-certificate
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>记得在命令后加上 <code>--no-check-certificate</code> 选项，否则可能无法下载。</p><p>下载过程如图：</p><figure><img src="https://pic.yupi.icu/5563/202311090919811.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>下载安装包成功后，使用 <code>tar</code> 命令解压即可：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>tar -zxvf \\
leanote-linux-amd64-v2.6.1.bin.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后使用 <code>ls</code> 命令，就能看到解压出的项目目录了：</p><figure><img src="https://pic.yupi.icu/5563/202311090919747.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_2-启动数据库" tabindex="-1"><a class="header-anchor" href="#_2-启动数据库" aria-hidden="true">#</a> 2. 启动数据库</h3><p>由于项目使用 <code>Mongodb</code> 数据库去存储笔记资源，所以下面要安装它。</p><h4 id="_2-1-安装数据库" tabindex="-1"><a class="header-anchor" href="#_2-1-安装数据库" aria-hidden="true">#</a> 2.1 安装数据库</h4><p>首先依然使用 wget 命令快速下载 Mongodb 安装包到自己的服务器（电脑）上：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.0.1.tgz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后解压：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>tar -xzvf \\
mongodb-linux-x86_64-3.0.1.tgz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 ls 命令，能看到解压出的 mongodb 目录：</p><figure><img src="https://pic.yupi.icu/5563/202311090919744.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>接下来，要使用命令来启动数据库服务，但命令文件的位置在 mongodb 目录中，每次必须进入该目录才能执行，非常麻烦！</p><p>因此，可以修改 <code>/etc/profile</code> 文件，给 mongodb 命令配置环境变量：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># 修改环境配置文件
sudo vim /etc/profile
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>进入文本编辑器后，按方向键或者直接 <code>shift + g</code> 到达文件底部，再按 <code>o</code> 键新增一行，将你的 mongodb 位置补充到环境变量中：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>export PATH=$PATH:$HOME/mongodb-linux-x86_64-3.0.1/bin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如图：</p><figure><img src="https://pic.yupi.icu/5563/202311090919732.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>新增环境变量</p></blockquote><p>然后按 <code>esc</code> 键，再输入 <code>:wq</code> ，回车即可保存并退出编辑器：</p><figure><img src="https://pic.yupi.icu/5563/202311090919517.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>退出编辑器</p></blockquote><p>然后用 <code>source</code> 命令激活配置：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>source /etc/profile
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-2-测试" tabindex="-1"><a class="header-anchor" href="#_2-2-测试" aria-hidden="true">#</a> 2.2 测试</h4><p>接下来，在当前目录下新建 <code>data</code> 目录，用于存储数据文件：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>mkdir data
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>使用 ls 命令查看新增的目录：</p><figure><img src="https://pic.yupi.icu/5563/202311090919545.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>然后用 <code>mongod</code> 命令启动数据库，指定 data 目录为数据文件存放目录，记得加个 <code>$</code> 符号，表示后台启动数据库：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>mongod --dbpath data &amp;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>可以看到一大堆的启动信息：</p><figure><img src="https://pic.yupi.icu/5563/202311090919626.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>启动数据库</p></blockquote><p>然后输入 <code>mongo</code> 命令，连接已启动的数据库：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>mongo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>可以输入 <code>show dbs</code> 查看数据文件占用空间：</p><figure><img src="https://pic.yupi.icu/5563/202311090919585.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_3-导入数据" tabindex="-1"><a class="header-anchor" href="#_3-导入数据" aria-hidden="true">#</a> 3. 导入数据</h3><p>接下来要将 Leanote 应用的初始数据导入到数据库中，比如初始账号的名称、密码等。</p><p>使用 <code>mongorestore</code> 命令，-h 参数指定连接本地数据库，-d 指定数据库名称，--dir 指定要导入的数据文件：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>mongorestore -h localhost \\
-d leanote \\
--dir leanote/mongodb_backup/leanote_install_data/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>导入成功后，再使用 mongo 命令连接数据库，可以看到已导入的集合和数据：</p><figure><img src="https://pic.yupi.icu/5563/202311090919672.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>已导入的数据</p></blockquote><h3 id="_4-修改配置" tabindex="-1"><a class="header-anchor" href="#_4-修改配置" aria-hidden="true">#</a> 4. 修改配置</h3><p>接下来，你可以修改应用的配置，比如启动的端口号、域名、安全秘钥等。</p><p>使用 vim 命令编辑 <code>\${你的leanote路径}/conf/app.conf</code> 文件即可：</p><figure><img src="https://pic.yupi.icu/5563/202311090919709.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>配置文件</p></blockquote><p>如果没特殊需求，这一步可以直接跳过。</p><h3 id="_5-启动应用" tabindex="-1"><a class="header-anchor" href="#_5-启动应用" aria-hidden="true">#</a> 5. 启动应用</h3><p>最后，进入项目的 bin 目录，执行启动脚本即可：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># 切换目录
cd leanote/bin
# 后台执行启动脚本
bash run.sh &amp;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>看到一大堆输出，不用理会它：</p><figure><img src="https://pic.yupi.icu/5563/202311090919317.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>至此，项目已成功启动，在浏览器中输入 <code>http://\${你的服务器地址或 localhost}:9000</code> 就能访问云笔记啦，好好探索一番吧！</p><p>如果无法访问应用：</p><ol><li><p>请使用 <code>netstat -ntlp</code> 命令检查是否已有其他应用占用 <code>9000</code> 端口。如果该端口已经被占用，可以在上一步中修改配置文件中的端口号，再重新启动。</p></li><li><p>请在进入服务器提供商的控制台，在防火墙中开放 9000 端口</p></li></ol><hr><p>以上就是本期分享，有帮助的话还请给鱼皮一个 <strong>点赞 + 在看</strong> ，谢谢大家！</p><figure><img src="https://pic.yupi.icu/5563/202311090919300.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,84);function b(m,f){const a=d("ExternalLinkIcon");return c(),o("div",null,[s,e("blockquote",null,[e("p",null,[i("本文作者："),e("a",p,[i("程序员鱼皮"),n(a)])]),e("p",null,[i("本站地址："),e("a",u,[i("https://codefather.cn"),n(a)])])]),e("p",null,[i("大家好，我是鱼皮，上期给大家分享了 "),e("a",g,[i("6个开源笔记软件"),n(a)]),i(" ，并且让大家一起给这些软件打分。")]),h])}const _=t(l,[["render",b],["__file","3.html.vue"]]);export{_ as default};
